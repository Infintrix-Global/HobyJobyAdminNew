<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Master Panel</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script> -->
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>


<link rel="stylesheet" type="text/css" href="CssPage1.css">
    <script type = "text/javascript" src="jQuery.js"></script>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">  
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />





<link href=
"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
         rel="stylesheet">
         <!-- <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> -->

<!-- <script src="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css"></script> -->
<!-- <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="src/fancyTable.js"></script>

<script type="text/javascript" src="/public/pagesort.js"></script>


<link href="https://unpkg.com/bootstrap-table@1.21.0/dist/bootstrap-table.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.21.0/dist/bootstrap-table.min.js"></script>
<script src="https://cdn.jsdelivr.net/n pm/jquery.fancytable/dist/fancyTable.min.js"></script> 
<script src="src/fancyTable.js"></script>

  </head>
  <body style="color: white !important;">
    <!-- code for the master page -->
    <div id="wrapper" class="toggled">
      <div id="sidebar-wrapper">
        <div class="logo">
          <img src="logoimage.png" class="logoimg" alt="">
        </div>
          <ul class="sidebar-nav">
             <li>
                <button style="text-align: left; background-color:transparent;border: none; color: white;" onclick="location.href = 'Certification.html'" id="defaultOpen">Certification</button>
              </li>
              <li>
                <button style="text-align: left; background-color:transparent;border: none; margin-top: 20px; color: white;"  onclick="location.href = 'JobTypes.html'" id="defaultOpen">JobTypes</button>
              </li>
              <li>
                <button style="text-align: left; background-color:transparent;border: none;color: white;margin-top: 20px;" onclick="location.href = 'Qualification.html'" id="defaultOpen2">Qualification</button>
              </li>
              <li>
                <button style="text-align: left; background-color:transparent;border: none;color: white;margin-top: 20px;" onclick="location.href = 'Skills.html'" id="defaultOpen3">Skills</button>
              </li>
              <li>
                <button style="text-align: left; background-color:transparent;border: none;color: white;margin-top: 20px;" onclick="location.href = 'FunctionalArea.html'" id="defaultOpen4">Functional Area</button>
              </li>
              <li>
                <button style="text-align: left; background-color:transparent;border: none;color: white;margin-top: 20px;" onclick="location.href = 'Cities.html'" id="defaultOpen5">Cities</button>
              </li>
              <li>
                <button style="text-align: left; background-color:transparent;border: none;color: white;margin-top: 20px;" onclick="location.href = 'Specialization.html'" id="defaultOpen6">Specialization</button>
              </li>
              <li>
                <button class="dropbtn" style="text-align: left; background-color:transparent;border: none;color: white;margin-top: 20px;" onclick="location.href = 'BlogMaster.html'" id="defaultOpen7">Blog Master</button>
              </li>
              <li>
                <button style="text-align: left; background-color:transparent;border: none;color: white;margin-top: 20px;" onclick="location.href = 'PackageMaster.html'" id="defaultOpen8">Package Master</button>
              </li>
              
          </ul>
      </div>
  <div id="qualification" class="tabcontent">
    <a href="#menu-toggle1" style="background-color: #454d55;"  class="tgl-btn" id="menu-toggle1"><i style="color: white; border-top-left-radius:0px" class="fa fa-bars"></i></a>
    <button type="button" style="color: white;" class="btn add-btn" onclick="Logoutfunc()"><i class="fa fa-power-off"></i></button>
    <h1 style="color: white;">Reset Password</h1>
    <div id="page-content-wrapper">
      <div class="container-fluid">
         <!-- <form name="reset-password" action="" method="post" onsubmit="myFunctionSubmit()"> -->
            <div class="error-msg" id="error-msg" style="margin-bottom: 20px; color: red; font-size: larger; "></div>
            <div class="row">
                <div class="inline-block">
                    <div class="form-label">Current Password<span class="required error" id="current-password-info"></span>
                    </div>
                    <input class="input-box-330" type="password" name="currentPassword" id="currentPassword">
                </div>
            </div>
            <div class="row">
                <div class="inline-block">
                    <div class="form-label">New Password<span class="required error" id="forgot-password-info"></span>
                    </div>
                    <input class="input-box-330" type="password" name="newPassword" id="newPassword">
                </div>
            </div>
            <div class="row">
                <div class="inline-block">
                    <div class="form-label"> Confirm Password<span class="required error" id="confirm-password-info"></span>
                    </div>
                    <input class="input-box-330" type="password" name="newConfirmPassword" id="newConfirmPassword">
                </div>
            </div>
            <div class="Button" style="margin-top: 20px;">
                <button type="submit" id="subbut" class="sub-btn" onclick="myFunctionSubmit()">Submit</button>
                <input id="cancelButton" style="background-color: white; color:black; margin-left: 10px;" class="sub-btn" onClick="window.location.reload();" type="button" value="Cancel">
            </div>
        <!-- </form> -->
          
      </div>
    </div>
  </div>
  <!-- <script src="https://cdn.jsdelivr.net/npm/jquery.fancytable/dist/fancyTable.min.js"></script>  -->
<script src="src/fancyTable.js"></script>


  
  <script type="module">
    
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
   import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-analytics.js";
   import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCja308Z_aqsX4dI7-PHQowrsAsTptrPUY",
    authDomain: "hobyjoby-6cf7f.firebaseapp.com",
    databaseURL: "https://hobyjoby-6cf7f-default-rtdb.firebaseio.com",
    projectId: "hobyjoby-6cf7f",
    storageBucket: "hobyjoby-6cf7f.appspot.com",
    messagingSenderId: "364840624543",
    appId: "1:364840624543:web:4bffa1591f60fff4ff9daa",
    measurementId: "G-L5Q22RC76Z"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics();
  const db = getDatabase();
                                         
  var dateTime = new Date().toLocaleString().replace(',','');


  window.myFunctionSubmit = async function () {
    var dbEmail = sessionStorage.getItem("Name");
    var dbPassword = sessionStorage.getItem("Password");
    var  currentPassword = document.getElementById("currentPassword").value;
    var  newPassword = document.getElementById("newPassword").value;
    var  newConfirmPassword = document.getElementById("newConfirmPassword").value;
    if(String(currentPassword) == String(dbPassword)){
      if(String(newConfirmPassword) == String(newPassword)){
        sessionStorage.setItem("Password", String(newConfirmPassword));
        set(ref(db,'LoginPage'),{
          Name: dbEmail,
          Password: newPassword
        })
        .then(()=> {  
          alert("Password has been changed successfully.")  
          })
          .then(() => {
            setTimeout("location.reload(true);",120);
          }) ;
      }
      else{
        alert("Both New and Confirm Password must be same.");
      }
    }
    else{
      alert("Current Password does not match.");
    }
  }
  
  window.Logoutfunc = function(){
    alert("User has been Logged out successfully.");
    window.location.replace("index.html");

  }
  
  
// window.texteditor = function(){
//   var holder = document.getElementById("example2");  
//     const editor = new EditorJS({
//     /**
//      * Id of Element that should contain Editor instance
//      */
//     holder: 'editorjs'
//   });
// }                                                               
  </script>


  </body>
</html>
